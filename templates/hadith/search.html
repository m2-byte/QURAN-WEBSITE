{% extends "base.html" %}

{% block content %}
<div class="container py-4">
    <div class="page-header">
        <h1>Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ« Ø§Ù„Ù†Ø¨ÙˆÙŠØ©</h1>
        <p>Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£ÙŠ ÙƒÙ„Ù…Ø© Ø£Ùˆ Ø¹Ø¨Ø§Ø±Ø© ÙÙŠ Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ« Ø§Ù„Ø´Ø±ÙŠÙØ©</p>
    </div>

    <form action="/hadith/search" method="get" style="max-width:560px;margin:0 auto 2rem;">
        <div class="search-container">
            <span class="search-icon">ğŸ”</span>
            <input type="text" name="q" class="search-input" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ«..." value="{{ query }}"
                autofocus>
        </div>
    </form>

    {% if query %}
    <div class="container-narrow">
        <p class="text-secondary mb-2" style="font-size:0.95rem;">
            {% if results %}ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ {{ results|length }} Ù†ØªÙŠØ¬Ø©{% else %}Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬{% endif %}
            Ù„Ù€ "{{ query }}"
        </p>

        {% for h in results %}
        <div class="hadith-card">
            <div class="hadith-header">
                <span class="hadith-number">{{ h.collection }} â€” Ø­Ø¯ÙŠØ« {{ h.hadithnumber }}</span>
                <a href="/hadith/{{ h.collection_id }}" class="btn btn-ghost" style="font-size:0.85rem;">Ø¹Ø±Ø¶
                    Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©</a>
            </div>
            <p class="hadith-text">{{ h.text[:300] }}{% if h.text|length > 300 %}...{% endif %}</p>
        </div>
        {% endfor %}
    </div>
    {% endif %}
</div>
{% endblock %}