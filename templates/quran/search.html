{% extends "base.html" %}

{% block content %}
<div class="container py-4">
    <div class="page-header">
        <h1>Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</h1>
        <p>Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£ÙŠ ÙƒÙ„Ù…Ø© Ø£Ùˆ Ø¹Ø¨Ø§Ø±Ø© ÙÙŠ Ø¢ÙŠØ§Øª Ø§Ù„Ù‚Ø±Ø¢Ù†</p>
    </div>

    <form action="/quran/search" method="get" style="max-width:560px;margin:0 auto 2rem;">
        <div class="search-container">
            <span class="search-icon">ğŸ”</span>
            <input type="text" name="q" class="search-input" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù†..." value="{{ query }}"
                autofocus>
        </div>
    </form>

    {% if query %}
    <div class="container-narrow">
        <p class="text-secondary mb-2" style="font-size:0.95rem;">
            {% if results %}ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ {{ results|length }} Ù†ØªÙŠØ¬Ø©{% else %}Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬{% endif %}
            Ù„Ù€ "{{ query }}"
        </p>

        {% for r in results %}
        <a href="/quran/{{ r.surah.number }}#verse-{{ r.numberInSurah }}" style="text-decoration:none;">
            <div class="verse-card">
                <div class="verse-header">
                    <div style="display:flex;align-items:center;gap:0.75rem;">
                        <div class="verse-num">{{ r.numberInSurah }}</div>
                        <div>
                            <span class="surah-name-ar" style="font-size:1.1rem;">{{ r.surah.name }}</span>
                            <span class="text-tertiary" style="font-size:0.85rem;margin-right:0.5rem;">{{
                                r.surah.englishName }}</span>
                        </div>
                    </div>
                </div>
                <p class="verse-text" style="font-size:1.4rem;">{{ r.text }}</p>
            </div>
        </a>
        {% endfor %}
    </div>
    {% endif %}
</div>
{% endblock %}